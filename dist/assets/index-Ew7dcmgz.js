(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();const M=()=>{let c=[],i=0;const r=document.getElementById("notes-wall"),a=document.getElementById("new-note"),s=[...r.querySelector("div").classList],p=[...r.querySelector("button").classList],y=[...r.querySelector("textarea").classList],m=t=>({id:i++,text:t}),h=(t,e)=>[...e,m(t)],L=(t,e)=>e.filter(o=>o.id!==t),E=(t,e,o)=>o.map(d=>d.id===t?{...d,text:e}:d),u=t=>{r.innerHTML="",t.forEach(e=>b(e))},N=(t,e)=>{const o=document.createElement("div");o.id=e,s.forEach(I=>o.classList.add(I));const d=g(e);o.appendChild(d);const O=v(t),C=x(t);return o.appendChild(O),o.appendChild(C),o.addEventListener("dblclick",()=>k(o)),D(o),o},g=t=>{const e=document.createElement("button");return p.forEach(o=>e.classList.add(o)),e.textContent="ðŸ—‘",e.addEventListener("click",()=>{c=L(t,c),u(c)}),e},v=t=>{const e=document.createElement("div");return e.classList.add("p-4","note-text"),e.innerHTML=t.replace(/\n/g,"<br>"),e},x=t=>{const e=document.createElement("textarea");return y.forEach(o=>e.classList.add(o)),e.value=t,e.classList.add("note-edit","hidden"),e},b=t=>{const e=N(t.text,t.id);r.appendChild(e)},S=t=>{if(t.key==="Enter"&&!t.shiftKey){t.preventDefault();const e=t.target.value.trim();e&&(c=h(e,c),u(c)),t.target.value=""}},k=t=>{const e=t.querySelector(".note-text"),o=t.querySelector(".note-edit");q(e,o)},q=(t,e)=>{t.style.display="none",e.classList.remove("hidden"),e.focus(),document.addEventListener("click",o=>w(o,e,t))},w=(t,e,o)=>{e.contains(t.target)||f(e,o)},f=(t,e)=>{const o=Number(t.parentNode.id);c=E(o,t.value,c),e.innerHTML=t.value.replace(/\n/g,"<br>"),B(e,t)},B=(t,e)=>{e.classList.add("hidden"),t.style.display="block"},D=t=>{const e=t.querySelector(".note-edit");e.addEventListener("keydown",o=>{(o.key==="Enter"&&!o.shiftKey||o.key==="Escape")&&(o.preventDefault(),f(e,t.querySelector(".note-text")))})};a.addEventListener("keydown",S),u(c)};M();
